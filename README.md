#üé¨ Netflix Clone API ‚Äî Django REST Framework Backend

–°–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Å–µ—Ä–≤–µ—Ä–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –ø–æ—Ç–æ–∫–æ–≤–æ–≥–æ –≤–∏–¥–µ–æ-—Å–µ—Ä–≤–∏—Å–∞, –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–≥–æ Netflix.
–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é, –ø—Ä–æ—Å–º–æ—Ç—Ä —Ñ–∏–ª—å–º–æ–≤, —Å–∏—Å—Ç–µ–º—É –ø–æ–¥–ø–∏—Å–æ–∫ –∏ –ø–ª–∞—Ç–µ–∂–∏ —á–µ—Ä–µ–∑ Stripe.

Frontend (React/Vue) –º–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ ‚Äî API –≥–æ—Ç–æ–≤ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏.

##üöÄ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏

###–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (JWT)
‚Üí djangorestframework-simplejwt

–ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚Äî –∞–≤–∞—Ç–∞—Ä, –∏–º—è, email, –¥–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

–ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è, –≤—ã—Ö–æ–¥ (logout) —Å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º refresh-—Ç–æ–∫–µ–Ω–∞ –≤ blacklist

–ò–∑–±—Ä–∞–Ω–Ω–æ–µ –∏ –∏—Å—Ç–æ—Ä–∏—è –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤ ‚Äî –ª–∞–π–∫–∏ –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å —Ñ–∏–ª—å–º–∞ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è

###üéû –§–∏–ª—å–º—ã

CRUD API –¥–ª—è —Ñ–∏–ª—å–º–æ–≤, –∂–∞–Ω—Ä–æ–≤ –∏ –∞–≤—Ç–æ—Ä–æ–≤

–°—á—ë—Ç—á–∏–∫ –ª–∞–π–∫–æ–≤ –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤
‚Äî –ø—Ä–æ—Å–º–æ—Ç—Ä—ã —Å—á–∏—Ç–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ 90% —Ñ–∏–ª—å–º–∞

–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ (select_related, prefetch_related)

–§–∏–ª—å—Ç—Ä—ã –∏ –ø–æ–∏—Å–∫ –ø–æ –∂–∞–Ω—Ä–∞–º, –∞–≤—Ç–æ—Ä–∞–º, –Ω–∞–∑–≤–∞–Ω–∏—é –∏ –æ–ø–∏—Å–∞–Ω–∏—é

–ü–∞–≥–∏–Ω–∞—Ü–∏—è, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤

###üí≥ –ü–æ–¥–ø–∏—Å–∫–∏ –∏ –ø–ª–∞—Ç–µ–∂–∏

–°–∏—Å—Ç–µ–º–∞ —Ç–∞—Ä–∏—Ñ–Ω—ã—Ö –ø–ª–∞–Ω–æ–≤ (–º–æ–¥–µ–ª—å SubscriptionPlan)

Stripe –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (—Å–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–æ–≤, —Å–µ—Å—Å–∏–π –æ–ø–ª–∞—Ç—ã, –≤–æ–∑–≤—Ä–∞—Ç—ã)

–ò—Å—Ç–æ—Ä–∏—è –ø–æ–¥–ø–∏—Å–æ–∫ –∏ —Å–æ–±—ã—Ç–∏–π (created, renewed, canceled, payment_failed)

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ–¥–ª–µ–Ω–∏–µ –∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è –¥–Ω–µ–π

–î–æ—Å—Ç—É–ø –∫ –ø—Ä–æ—Å–º–æ—Ç—Ä—É —Ñ–∏–ª—å–º–æ–≤ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∞–∫—Ç–∏–≤–Ω–æ–π –ø–æ–¥–ø–∏—Å–∫–µ

###üõ† –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ

–ú–æ–¥–µ—Ä–∞—Ü–∏—è —Ñ–∏–ª—å–º–æ–≤, –∂–∞–Ω—Ä–æ–≤ –∏ –∞–≤—Ç–æ—Ä–æ–≤ —á–µ—Ä–µ–∑ Django Admin

–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∞–º–∏ –∏ –ø–ª–∞—Ç–µ–∂–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

–û—Ç—á—ë—Ç—ã –∏ –∏—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

##üß∞ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫
Backend

Python 3.13, Django 5.2

Django REST Framework

SimpleJWT ‚Äî –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

django-filter ‚Äî —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å–ø–∏—Å–∫–æ–≤

PostgreSQL (–∏–ª–∏ SQLite –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

Stripe API ‚Äî –ø–ª–∞—Ç–µ–∂–∏

Pillow ‚Äî —Ä–∞–±–æ—Ç–∞ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏

CORS Headers ‚Äî —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

.env —Å —Å–µ–∫—Ä–µ—Ç–∞–º–∏ (Stripe –∫–ª—é—á–∏, JWT –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ —Ç.–¥.)

üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
Backend/
‚îú‚îÄ‚îÄ apps/
‚îÇ   ‚îú‚îÄ‚îÄ accounts/        # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, JWT, –ø—Ä–æ—Ñ–∏–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ movies/          # –§–∏–ª—å–º—ã, –∂–∞–Ω—Ä—ã, –∞–≤—Ç–æ—Ä—ã, –ª–∞–π–∫–∏ –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ subscribe/       # –ü–æ–¥–ø–∏—Å–∫–∏ –∏ –ø–ª–∞–Ω—ã
‚îÇ   ‚îú‚îÄ‚îÄ payment/         # –ü–ª–∞—Ç–µ–∂–∏, Stripe-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ __init__.py
‚îú‚îÄ‚îÄ netflixBack/              # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Django
‚îú‚îÄ‚îÄ manage.py
‚îî‚îÄ‚îÄ requirements.txt

üß± –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
–ú–æ–¥–µ–ª—å	–û–ø–∏—Å–∞–Ω–∏–µ
User	–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (email ‚Äî –ª–æ–≥–∏–Ω, –∞–≤–∞—Ç–∞—Ä, –ø–æ–¥–ø–∏—Å–∫–∞)
Movie	–§–∏–ª—å–º—ã —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º, –∂–∞–Ω—Ä–∞–º–∏, –∞–≤—Ç–æ—Ä–æ–º, –ø–æ—Å—Ç–µ—Ä–æ–º –∏ –≤–∏–¥–µ–æ
Genre	–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ñ–∏–ª—å–º–æ–≤
Author	–†–µ–∂–∏—Å—Å—ë—Ä—ã/—Å–æ–∑–¥–∞—Ç–µ–ª–∏, —Å –±–∏–æ–≥—Ä–∞—Ñ–∏–µ–π –∏ —Ñ–æ—Ç–æ
Favorite	–õ–∞–π–∫–∏ —Ñ–∏–ª—å–º–æ–≤
Watched	–ü—Ä–æ–≥—Ä–µ—Å—Å –ø—Ä–æ—Å–º–æ—Ç—Ä–∞, –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –ø—Ä–æ—Ü–µ–Ω—Ç
SubscriptionPlan	–¢–∞—Ä–∏—Ñ–Ω—ã–π –ø–ª–∞–Ω –ø–æ–¥–ø–∏—Å–∫–∏ (—Ü–µ–Ω–∞, –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, JSON-features)
Subscription	–ê–∫—Ç–∏–≤–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
SubscriptionHistory	–ò—Å—Ç–æ—Ä–∏—è —Å–æ–±—ã—Ç–∏–π –ø–æ–¥–ø–∏—Å–æ–∫
Payment / Refund	–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, –≤–æ–∑–≤—Ä–∞—Ç—ã, —Å—Ç–∞—Ç—É—Å—ã, Stripe –ø–æ–ª—è
üîó API Endpoints
Accounts
POST /accounts/register/         # –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
POST /accounts/login/            # –í—Ö–æ–¥ (JWT)
POST /accounts/logout/           # –í—ã—Ö–æ–¥
GET  /accounts/profile/          # –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è
PUT  /accounts/profile/          # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è
PATCH /accounts/change-password/ # –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è
POST /accounts/token/refresh/    # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞

Movies
GET  /movies/movies/                 # –°–ø–∏—Å–æ–∫ —Ñ–∏–ª—å–º–æ–≤
POST /movies/movies/                 # –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ–∏–ª—å–º–∞ (admin)
GET  /movies/movies/{slug}/          # –î–µ—Ç–∞–ª–∏ —Ñ–∏–ª—å–º–∞
PUT  /movies/movies/{slug}/          # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ–∏–ª—å–º–∞
POST /movies/movies/{slug}/like/     # –õ–∞–π–∫
POST /movies/movies/{slug}/unlike/   # –£–¥–∞–ª–∏—Ç—å –ª–∞–π–∫
POST /movies/movies/{slug}/progress/ # –û—Ç–ø—Ä–∞–≤–∫–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞
GET  /movies/me/watched/             # –ú–æ–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã–µ —Ñ–∏–ª—å–º—ã

Genres / Authors
GET  /movies/genres/
POST /movies/genres/
GET  /movies/authors/
POST /movies/authors/

Subscribe
GET  /subscribe/plans/           # –°–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–ª–∞–Ω–æ–≤
GET  /subscribe/plans/{id}/      # –î–µ—Ç–∞–ª–∏ –ø–ª–∞–Ω–∞
GET  /subscribe/me/              # –¢–µ–∫—É—â–∞—è –ø–æ–¥–ø–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
GET  /subscribe/me/history/      # –ò—Å—Ç–æ—Ä–∏—è —Å–æ–±—ã—Ç–∏–π –ø–æ–¥–ø–∏—Å–∫–∏

Payment
POST /payment/create-checkout/   # –°–æ–∑–¥–∞–Ω–∏–µ Stripe Checkout-—Å–µ—Å—Å–∏–∏
POST /payment/refund/            # –í–æ–∑–≤—Ä–∞—Ç –ø–ª–∞—Ç–µ–∂–∞
POST /payment/webhook/           # –û–±—Ä–∞–±–æ—Ç–∫–∞ Stripe Webhook

üí≥ Stripe –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

StripeService: —Å–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–æ–≤, checkout-—Å–µ—Å—Å–∏–π, –≤–æ–∑–≤—Ä–∞—Ç—ã

PaymentService: —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞–º–∏ –∏ –∏—Ö —Å—Ç–∞—Ç—É—Å–∞–º–∏

–í—Å—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –æ–±–µ—Ä–Ω—É—Ç–∞ –≤ try/except —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º –æ—à–∏–±–æ–∫

–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–µ–π (user_id, subscription_id, payment_id) —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏

üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

JWT-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Å Refresh/Access —Ç–æ–∫–µ–Ω–∞–º–∏

CSRF-–∑–∞—â–∏—Ç–∞ –¥–ª—è –∞–¥–º–∏–Ω–∫–∏

CORS —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –¥–ª—è –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö –¥–æ–º–µ–Ω–æ–≤

–í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä–∞–º–∏

IsAdminOrReadOnly –¥–ª—è –∑–∞—â–∏—Ç—ã CRUD —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤

üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–¢–µ—Å—Ç—ã —á–µ—Ä–µ–∑ pytest –∏–ª–∏ django.test

–í—Ä—É—á–Ω—É—é –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á–µ—Ä–µ–∑ Postman –∏–ª–∏ HTTPie

–¢–æ–∫–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–∞—Ö

‚öôÔ∏è –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:

Python ‚â• 3.10

PostgreSQL –∏–ª–∏ SQLite

Stripe –∞–∫–∫–∞—É–Ω—Ç

–ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫:
git clone <—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π>
cd Backend
python -m venv venv
source venv/bin/activate
pip install -r requirements.txt
cp .env.example .env
python manage.py migrate
python manage.py runserver

–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ .env:
DEBUG=True
SECRET_KEY=your_secret
ALLOWED_HOSTS=127.0.0.1,localhost

# JWT
ACCESS_TOKEN_LIFETIME_MIN=30
REFRESH_TOKEN_LIFETIME_DAYS=7

# Stripe
STRIPE_SECRET_KEY=sk_test_xxx
STRIPE_WEBHOOK_SECRET=whsec_xxx

üß≠ –ü–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è

 –ü–æ–¥–∫–ª—é—á–∏—Ç—å Celery –∏ Redis –¥–ª—è —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á

 –î–æ–±–∞–≤–∏—Ç—å REST API –¥–ª—è Refund –∏ PaymentHistory

 Swagger / ReDoc –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (drf-spectacular)

 –ü–æ–ª–Ω—ã–π CI/CD workflow —á–µ—Ä–µ–∑ Docker –∏ GitHub Actions

 –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤ –∏ –ø–æ–¥–∞—Ä–æ—á–Ω—ã—Ö –ø–æ–¥–ø–∏—Å–æ–∫

üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License ‚Äî —Å–≤–æ–±–æ–¥–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è.
